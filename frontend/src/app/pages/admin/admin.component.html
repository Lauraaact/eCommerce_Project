<div style="display: flex;">
    <div style="position: fixed; z-index: 1;">
        <nav class="navbar navbar-expand-lg navAdmin">
            <div class="container-fluid flex-column prueba" >
                <div class="navbar-brand logo" (click)="bienvenido()">
                    <img class="img-logo" src="./assets/U.png" alt="logo">
                </div>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse flex-column" id="navbarSupportedContent">
                    <div>
                        <h5 class="tituloNav">Centro de administración</h5>
                        <p>Bienvenido, {{user.nombreUsuario}}</p>
                    </div>
                    <ul class="nav flex-column listaMenu">
                        <li class="nav-item" (click)="gestionProductos()" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-seam" viewBox="0 0 16 16">
                            <path d="M8.186 1.113a.5.5 0 0 0-.372 0L1.846 3.5l2.404.961L10.404 2zm3.564 1.426L5.596 5 8 5.961 14.154 3.5zm3.25 1.7-6.5 2.6v7.922l6.5-2.6V4.24zM7.5 14.762V6.838L1 4.239v7.923zM7.443.184a1.5 1.5 0 0 1 1.114 0l7.129 2.852A.5.5 0 0 1 16 3.5v8.662a1 1 0 0 1-.629.928l-7.185 2.874a.5.5 0 0 1-.372 0L.63 13.09a1 1 0 0 1-.63-.928V3.5a.5.5 0 0 1 .314-.464z"/>
                        </svg>    Gestión de productos</li>
                        <li class="nav-item" (click)="gestionAdmins()"data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-gear" viewBox="0 0 16 16">
                            <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m.256 7a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1zm3.63-4.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382zM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"/>
                        </svg>    Gestión de administradores</li>
                        <li class="nav-item" (click)="gestionUsers()"data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
                            <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/>
                        </svg>    Gestion de usuarios</li>
                        <li class="nav-item" (click)="soporteAyuda()"data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-exclamation-triangle" viewBox="0 0 16 16">
                            <path d="M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"/>
                            <path d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
                        </svg>    Soporte y ayuda</li>
                    </ul>
                    <div>
                        <button (click)="cerrarSesion()" class="btn">Cerrar sesión</button>
                    </div>
                </div>
            </div>
        </nav>
    </div>
<main>
    <!--PAG. INICIO-->
    <div class="inicioAdmin" *ngIf="inicio">
        <img src="/assets/admin.png" class="bienvenido" >
    </div>
    <!--Nuevo Producto-->
    <div *ngIf="nuevoProducto">
        <h3>Llene el siguiente formulario para agregar el nuevo producto: </h3>
        <form>
            <div class="form-group">
                <label for="nombre">Nombre: </label>
                <input type="text" id="nombre" name="nombre" placeholder="Ingrese nombre del producto" required [(ngModel)]="producto.nombre"/>
            </div>
            <div class="form-group">
                <label for="imagen">Imagen: </label>
                <input type="text" id="imagen" name="imagen" placeholder="Ingrese URL de la imagen del producto" required [(ngModel)]="producto.imagen"/>
            </div>
            <div class="form-group">
                <label for="descripcion">Descripción: </label>
                <input type="text" id="descripcion" name="descripcion" placeholder="Ingrese decripción del producto" required [(ngModel)]="producto.descripcion"/>
            </div>
            <div class="form-group">
                <label for="tiempo">Tiempo: </label>
                <input type="text" id="tiempo" name="tiempo" placeholder="Ingrese tiempo total de la receta" required [(ngModel)]="producto.tiempo"/>
            </div>
            <div class="form-group">
                <label for="dificultad">Dificultad: </label>
                <input type="text" id="dificultad" name="dificultad" placeholder="Ingrese dificultad de la receta" required [(ngModel)]="producto.dificultad"/>
            </div>
            <div class="form-group">
                <label for="precio">Precio: </label>
                <input type="number" id="precio" name="precio" placeholder="Ingrese precio del producto" required [(ngModel)]="producto.precio"/>
            </div>
            <div class="form-group">
                <label for="precio">Alergenos: </label>
                <input type="string" id="alergenos" name="precio" placeholder="Agrege los alergenos que contiene el producto" required [(ngModel)]="producto.alergenos"/>
            </div><div class="form-group">
                <label for="precio">Ingredientes: </label>
                <input type="string" id="ingredientes" name="ingredientes" placeholder="Agrege los ingredientes del producto" required [(ngModel)]="producto.ingredientes"/>
            </div>

            <div class="btnAgregarProducto">
                <button type="submit" class="btn" (click)="crear()">Agregar producto</button>
                <button type="button" class="btn cancelar" (click)="cancelarNuevo()">Cancelar</button>
            </div>
        </form>
    </div>
    <!--PAG. GESTIÓN DE PRODUCTOS-->
    <div *ngIf="productosActuales">
        <h2>Gestión de productos</h2>
        <div class="contenedorBtn">
            <button type="button" class="btn"  (click)="nuevoProductoBtn()">Añadir nuevo producto</button>
        </div>
        <h3>Productos actuales: </h3>
        <section class = "cajaProductos">
            <ol class="list-group list-group-numbered">
                @for(producto of allProducts; track $index){
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <div class="ms-2 me-auto">
                        <div class="card mb-3" style="max-width: 900px;">
                            <div class="row g-0">
                                <div class="col-md-4">
                                    <img src="{{producto.imagen}}" class="img-fluid rounded-start" alt="...">
                                </div>
                                <div class="col-md-5">
                                    <div class="card-body">
                                        <div class="fw-bold titulo">{{producto.nombre}}</div>
                                        <p class="card-text">{{producto.descripcion}}</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="card-body">
                                        <p class="card-text"><span class="fw-bold">Tiempo: </span>{{producto.tiempo}}</p>
                                        <p class="card-text"><span class="fw-bold">Dificultad: </span> {{producto.dificultad}}</p>
                                        <p class="card-text"><span class="fw-bold">Precio: </span> ${{producto.precio}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn edit" (click)="editar(producto)">Edit</button>
                    <button type="button" class="btn borrar" (click)="eliminar(producto._id)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
                    <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"/>
                    </svg></button>
                </li>}
            </ol>
        </section>
    </div>
    <!--Editar Producto-->
    <div *ngIf="editarProducto">
        <h3>Edite los campos que desea cambiar: </h3>
        <form>
            <div class="form-group">
                <label for="id">Id: </label>
                <input type="text" id="id" name="id" readonly [(ngModel)]="producto._id">
            </div>
            <div class="form-group">
                <label for="nombre">Nombre: </label>
                <input type="text" id="nombre" name="nombre" placeholder="Ingrese nombre del producto" required [(ngModel)]="producto.nombre"/>
            </div>
            <div class="form-group">
                <label for="imagen">Imagen: </label>
                <input type="text" id="imagen" name="imagen" placeholder="Ingrese URL de la imagen del producto" required [(ngModel)]="producto.imagen"/>
            </div>
            <div class="form-group">
                <label for="descripcion">Descripción: </label>
                <input type="text" id="descripcion" name="descripcion" placeholder="Ingrese decripción del producto" required [(ngModel)]="producto.descripcion"/>
            </div>
            <div class="form-group">
                <label for="tiempo">Tiempo: </label>
                <input type="text" id="tiempo" name="tiempo" placeholder="Ingrese tiempo total de la receta" required [(ngModel)]="producto.tiempo"/>
            </div>
            <div class="form-group">
                <label for="dificultad">Dificultad: </label>
                <input type="text" id="dificultad" name="dificultad" placeholder="Ingrese dificultad de la receta" required [(ngModel)]="producto.dificultad"/>
            </div>
            <div class="form-group">
                <label for="precio">Precio: </label>
                <input type="number" id="precio" name="precio" placeholder="Ingrese precio del producto" required [(ngModel)]="producto.precio"/>
            </div>
            <div class="form-group">
                <label for="alergenos">Alergenos: </label>
                <input type="string" id="alergenos" name="alergenos" placeholder="Agrege los alergenos que contiene el producto" required [(ngModel)]="producto.alergenos"/>
            </div>
            <div class="form-group">
                <label for="ingredientes">Ingredientes: </label>
                <input type="string" id="ingredientes" name="ingredientes" placeholder="Agrege los ingredientes del producto" required [(ngModel)]="producto.ingredientes"/>
            </div>
            <div class="btnAgregarProducto">
                <button type="submit" class="btn" (click)="guardar(producto)">Guardar</button>
                <button type="button" class="btn cancelar" (click)="cancelarEditar()">Cancelar</button>
            </div>

        </form>
    </div>
    <!--PAG. SOPORTE-->
    <div class="inicioAdmin" *ngIf="soporte">
        <img src="/assets/soporte.png" class="bienvenido" >
    </div>
    <!--PAG. USERS-->
    <div *ngIf="users">
        <h2>Gestión de usuarios</h2>
        <h3>Usuarios registrados actualmente: </h3>
        <section class = "cajaProductos">
            <ol class="list-group list-group-numbered">
                @for(user of allUsers; track $index){
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{user.nombreUsuario}}
                    <br>
                    {{user.correo}}
                    <button type="button" class="btn borrar" (click)="eliminarUsuario(user._id)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
                    <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"/>
                    </svg></button>
                </li>}
            </ol>
        </section>
    </div>
    <!--PAG. ADMINS-->
    <div *ngIf="admins">
        <h2>Gestión de admins</h2>
        <div class="contenedorBtn">
            <button type="button" class="btn" (click)="nuevoAdmin()">Añadir nuevo administrador</button>
        </div>
        <h3>Administradores actuales:</h3>
        <section class = "cajaProductos">
            <ol class="list-group list-group-numbered">
                @for(admin of allAdmins; track $index){
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{admin.nombreUsuario}}
                    <br>
                    {{admin.correo}}
                    <button type="button" class="btn borrar" (click)="eliminarAdmin(admin._id)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill" viewBox="0 0 16 16">
                    <path d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"/>
                    </svg></button>
                </li>}
            </ol>
        </section>
    </div>
    <!--Nuevo Admin-->
    <div *ngIf="nuevoAdministrador">
        <h3>Llene el siguiente formulario para agregar el nuevo administrador: </h3>
        <form>
            <div class="form-group">
                <label for="nombre">Nombre Administrador: </label>
                <input type="text" id="nombreAdmin" name="nombreAdmin" placeholder="Ingrese nombre del Administrador" required [(ngModel)]="admin.nombreUsuario"/>
            </div>
            <div class="form-group">
                <label for="correo">Correo: </label>
                <input type="text" id="correo" name="correo" placeholder="Ingrese el correo del administrador" required [(ngModel)]="admin.correo"/>
            </div>
            <div class="form-group">
                <label for="contrasena">Contraseña: </label>
                <input type="password" id="contraseña" name="contrasena" placeholder="Ingrese una contraseña" required [(ngModel)]="admin.contrasena"/>
            </div>
            <div class="form-group" style="display: flex; align-items: center;">
                <label for="categoria">Administrador: </label>
                <input type="checkbox" id="categoria" name="categoria" value="true" checked disabled [(ngModel)]="admin.categoriaAdmin"/>
            </div>
            <div class="btnAgregarProducto">
                <button type="submit" class="btn" (click)="crearAdmin()">Añadir administrador</button>
                <button type="button" class="btn cancelar" (click)="cancelarNuevoAdmin()">Cancelar</button>
            </div>
        </form>
    </div>
    <!--PAG. ORDENES-->
    <div *ngIf="ordenes">
        <h2>Gestión de ordenes</h2>
    </div>
</main>
</div>

